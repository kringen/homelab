# specify domain name
option domain-name     "{{ domain }}";

# specify DNS server's hostname or IP address
option domain-name-servers     {{ dns_servers }};

# default lease time
default-lease-time {{ default_lease_time }};

# max lease time
max-lease-time {{ max_lease_time }};

# this DHCP server to be declared valid
authoritative;

# specify network address and subnetmask
subnet {{ subnet }} netmask {{ netmask }} {
  # specify the range of lease IP address
  range dynamic-bootp {{ begin_ip }} {{ end_ip }};
  # specify broadcast address
  option broadcast-address {{ broadcast_ip }};
  # specify gateway
  option routers {{ router }};
  # specify dns
  option domain-name-servers {{ dns_servers }};
}

# Static Entries
{% for host in static_hosts %}
host {{ host.name }} {
  option host-name "{{ host.name }}.{{ domain }}";
  option domain-name-servers {{ host.dns_servers }};
  option routers {{ host.router }};
  hardware ethernet {{ host.mac_address }};
  fixed-address {{ host.ip_addr }};
}
{% endfor %}